// Minimal test for BitSelect and if-else compilation
// Tests whether x[31], x[30] etc. correctly access the right bits

entity BitSelectTest {
    in x: bit[32]
    out bit31: bit
    out bit30: bit
    out bit0: bit
    out result: bit[32]
}

impl BitSelectTest {
    bit31 = x[31]
    bit30 = x[30]
    bit0 = x[0]
    // Simplified clz: just first few conditions
    result = if x[31] { 0 }
             else if x[30] { 1 }
             else if x[29] { 2 }
             else { 99 }
}
