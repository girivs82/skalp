// Test clock domain lifetime syntax
entity ClockDomainCounter<'clk> {
    in clk: clock
    in rst: reset
    in data: nat[8]
    out count: nat[32]
}

impl ClockDomainCounter<'clk> {
    signal counter: nat[32] = 0

    on(clk.rise) {
        if (rst) {
            counter <= 0
        } else {
            counter <= counter + 1
        }
    }

    count = counter
}