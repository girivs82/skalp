// SKALP LSP Test File
// This file tests language server functionality

entity Counter {
    in clk: clock
    in rst: reset
    in enable: bit
    out count: nat[8]
}

impl Counter {
    signal count_reg: nat[8] = 0

    on(clk.rise) {
        if (rst) {
            count_reg <= 0
        } else {
            if (enable) {
                count_reg <= count_reg + 1
            }
        }
    }

    // Continuous assignment
    count = count_reg
}

// Test function with error to check diagnostics
fn test_function() -> nat[32] {
    let invalid_var = unknown_variable  // This should trigger an error
    return 42
}
